<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        let score = 0;

        function getComputerChoice() {
            let choices = ['Rock', 'Paper', 'Scissors'];
            let computerChoice = [Math.floor(Math.random() * choices.length)];
            return choices[computerChoice];
        }

        function playRound(playerSelection, computerSelection) {
            if (
                (playerSelection == 'rock' && computerSelection == 'scissors') ||
                (playerSelection == 'paper' && computerSelection == 'rock') ||
                (playerSelection == 'scissors' && computerSelection == 'paper')) {
                    console.log('You won');
                    score ++;
            } else if (playerSelection == computerSelection) {
                console.log('DRAW');
            } else if ((playerSelection != 'rock' && playerSelection != 'paper' && playerSelection != 'scissor') || (playerSelection == '')) {
                    console.log('ERROR: rock, paper, nor scissors entered. Game not registered.');
            } else {
                console.log('Computer Won');
            }
        }

        function game() {
            for(let i = 0; i < 5; i++) {
                const playerSelection = window.prompt("Outsmart the computer in a game of Rock Paper Scissors! Best of 5 games win, and draws do not count toward game total. Please enter: rock paper or scissors").toLowerCase();
                const computerSelection = getComputerChoice().toLowerCase();

                if (playerSelection == computerSelection) {
                i--;
                }

                if ((playerSelection != 'rock' && playerSelection != 'paper' && playerSelection != 'scissor') || (playerSelection == '')) {
                    i--;
                }

                console.log("The computer chose: " + computerSelection);
                console.log("You chose: " + playerSelection);
                playRound(playerSelection, computerSelection);
            }
        }

        game();
        console.log ('Your score was ' + score + '/5');
        let results = score;
        if (results >= 3) {
            console.log('You beat the computer!');
        } else {
            console.log('You lost!');
        }

    </script>
</body>
</html>